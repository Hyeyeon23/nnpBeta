import{r as g,j as m,m as qe,e as Qe,u as $e,a as Je,b as et,c as tt,d as nt,i as ot,E as st,B as it,f as rt,T as at,S as Ae,Q as Ce,V as R,O as me,P as pe,M as q,g as Q,h as I,R as ct,k as lt,l as K,n as ut,o as dt}from"./index-DCvkM3WH.js";function De(i,s){let a;return(...e)=>{window.clearTimeout(a),a=window.setTimeout(()=>i(...e),s)}}function ht({debounce:i,scroll:s,polyfill:a,offsetSize:e}={debounce:0,scroll:!1,offsetSize:!1}){const w=a||(typeof window>"u"?class{}:window.ResizeObserver);if(!w)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[E,v]=g.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=g.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:E,orientationHandler:null}),u=i?typeof i=="number"?i:i.scroll:null,_=i?typeof i=="number"?i:i.resize:null,d=g.useRef(!1);g.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[y,O,j]=g.useMemo(()=>{const b=()=>{if(!o.current.element)return;const{left:D,top:S,width:A,height:p,bottom:f,right:H,x:M,y:x}=o.current.element.getBoundingClientRect(),l={left:D,top:S,width:A,height:p,bottom:f,right:H,x:M,y:x};o.current.element instanceof HTMLElement&&e&&(l.height=o.current.element.offsetHeight,l.width=o.current.element.offsetWidth),Object.freeze(l),d.current&&!bt(o.current.lastBounds,l)&&v(o.current.lastBounds=l)};return[b,_?De(b,_):b,u?De(b,u):b]},[v,e,u,_]);function T(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",j,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function L(){o.current.element&&(o.current.resizeObserver=new w(j),o.current.resizeObserver.observe(o.current.element),s&&o.current.scrollContainers&&o.current.scrollContainers.forEach(b=>b.addEventListener("scroll",j,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{j()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const C=b=>{!b||b===o.current.element||(T(),o.current.element=b,o.current.scrollContainers=Ie(b),L())};return mt(j,!!s),ft(O),g.useEffect(()=>{T(),L()},[s,j,O]),g.useEffect(()=>T,[]),[C,E,y]}function ft(i){g.useEffect(()=>{const s=i;return window.addEventListener("resize",s),()=>void window.removeEventListener("resize",s)},[i])}function mt(i,s){g.useEffect(()=>{if(s){const a=i;return window.addEventListener("scroll",a,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",a,!0)}},[i,s])}function Ie(i){const s=[];if(!i||i===document.body)return s;const{overflow:a,overflowX:e,overflowY:w}=window.getComputedStyle(i);return[a,e,w].some(E=>E==="auto"||E==="scroll")&&s.push(i),[...s,...Ie(i.parentElement)]}const pt=["x","y","top","bottom","left","right","width","height"],bt=(i,s)=>pt.every(a=>i[a]===s[a]);function gt({ref:i,children:s,fallback:a,resize:e,style:w,gl:E,events:v=nt,eventSource:o,eventPrefix:u,shadows:_,linear:d,flat:y,legacy:O,orthographic:j,frameloop:T,dpr:L,performance:C,raycaster:b,camera:D,scene:S,onPointerMissed:A,onCreated:p,...f}){g.useMemo(()=>Qe(at),[]);const H=$e(),[M,x]=ht({scroll:!0,debounce:{scroll:50,resize:0},...e}),l=g.useRef(null),V=g.useRef(null);g.useImperativeHandle(i,()=>l.current);const ie=Je(A),[z,$]=g.useState(!1),[J,re]=g.useState(!1);if(z)throw z;if(J)throw J;const W=g.useRef(null);et(()=>{const Y=l.current;if(x.width>0&&x.height>0&&Y){W.current||(W.current=tt(Y));async function G(){await W.current.configure({gl:E,scene:S,events:v,shadows:_,linear:d,flat:y,legacy:O,orthographic:j,frameloop:T,dpr:L,performance:C,raycaster:b,camera:D,size:x,onPointerMissed:(...N)=>ie.current==null?void 0:ie.current(...N),onCreated:N=>{N.events.connect==null||N.events.connect(o?ot(o)?o.current:o:V.current),u&&N.setEvents({compute:(ee,k)=>{const ae=ee[u+"X"],ue=ee[u+"Y"];k.pointer.set(ae/k.size.width*2-1,-(ue/k.size.height)*2+1),k.raycaster.setFromCamera(k.pointer,k.camera)}}),p==null||p(N)}}),W.current.render(m.jsx(H,{children:m.jsx(st,{set:re,children:m.jsx(g.Suspense,{fallback:m.jsx(it,{set:$}),children:s??null})})}))}G()}}),g.useEffect(()=>{const Y=l.current;if(Y)return()=>rt(Y)},[]);const Z=o?"none":"auto";return m.jsx("div",{ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Z,...w},...f,children:m.jsx("div",{ref:M,style:{width:"100%",height:"100%"},children:m.jsx("canvas",{ref:l,style:{display:"block"},children:a})})})}function Et(i){return m.jsx(qe,{children:m.jsx(gt,{...i})})}function be(){return be=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var e in a)({}).hasOwnProperty.call(a,e)&&(i[e]=a[e])}return i},be.apply(null,arguments)}var yt=Object.defineProperty,wt=(i,s,a)=>s in i?yt(i,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[s]=a,vt=(i,s,a)=>(wt(i,s+"",a),a);class Pt{constructor(){vt(this,"_listeners")}addEventListener(s,a){this._listeners===void 0&&(this._listeners={});const e=this._listeners;e[s]===void 0&&(e[s]=[]),e[s].indexOf(a)===-1&&e[s].push(a)}hasEventListener(s,a){if(this._listeners===void 0)return!1;const e=this._listeners;return e[s]!==void 0&&e[s].indexOf(a)!==-1}removeEventListener(s,a){if(this._listeners===void 0)return;const w=this._listeners[s];if(w!==void 0){const E=w.indexOf(a);E!==-1&&w.splice(E,1)}}dispatchEvent(s){if(this._listeners===void 0)return;const e=this._listeners[s.type];if(e!==void 0){s.target=this;const w=e.slice(0);for(let E=0,v=w.length;E<v;E++)w[E].call(this,s);s.target=null}}}var Ot=Object.defineProperty,jt=(i,s,a)=>s in i?Ot(i,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[s]=a,r=(i,s,a)=>(jt(i,typeof s!="symbol"?s+"":s,a),a);const le=new ct,Se=new lt,xt=Math.cos(70*(Math.PI/180)),Re=(i,s)=>(i%s+s)%s;let Tt=class extends Pt{constructor(s,a){super(),r(this,"object"),r(this,"domElement"),r(this,"enabled",!0),r(this,"target",new R),r(this,"minDistance",0),r(this,"maxDistance",1/0),r(this,"minZoom",0),r(this,"maxZoom",1/0),r(this,"minPolarAngle",0),r(this,"maxPolarAngle",Math.PI),r(this,"minAzimuthAngle",-1/0),r(this,"maxAzimuthAngle",1/0),r(this,"enableDamping",!1),r(this,"dampingFactor",.05),r(this,"enableZoom",!0),r(this,"zoomSpeed",1),r(this,"enableRotate",!0),r(this,"rotateSpeed",1),r(this,"enablePan",!0),r(this,"panSpeed",1),r(this,"screenSpacePanning",!0),r(this,"keyPanSpeed",7),r(this,"zoomToCursor",!1),r(this,"autoRotate",!1),r(this,"autoRotateSpeed",2),r(this,"reverseOrbit",!1),r(this,"reverseHorizontalOrbit",!1),r(this,"reverseVerticalOrbit",!1),r(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),r(this,"mouseButtons",{LEFT:q.ROTATE,MIDDLE:q.DOLLY,RIGHT:q.PAN}),r(this,"touches",{ONE:Q.ROTATE,TWO:Q.DOLLY_PAN}),r(this,"target0"),r(this,"position0"),r(this,"zoom0"),r(this,"_domElementKeyEvents",null),r(this,"getPolarAngle"),r(this,"getAzimuthalAngle"),r(this,"setPolarAngle"),r(this,"setAzimuthalAngle"),r(this,"getDistance"),r(this,"getZoomScale"),r(this,"listenToKeyEvents"),r(this,"stopListenToKeyEvents"),r(this,"saveState"),r(this,"reset"),r(this,"update"),r(this,"connect"),r(this,"dispose"),r(this,"dollyIn"),r(this,"dollyOut"),r(this,"getScale"),r(this,"setScale"),this.object=s,this.domElement=a,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=t=>{let n=Re(t,2*Math.PI),c=d.phi;c<0&&(c+=2*Math.PI),n<0&&(n+=2*Math.PI);let h=Math.abs(n-c);2*Math.PI-h<h&&(n<c?n+=2*Math.PI:c+=2*Math.PI),y.phi=n-c,e.update()},this.setAzimuthalAngle=t=>{let n=Re(t,2*Math.PI),c=d.theta;c<0&&(c+=2*Math.PI),n<0&&(n+=2*Math.PI);let h=Math.abs(n-c);2*Math.PI-h<h&&(n<c?n+=2*Math.PI:c+=2*Math.PI),y.theta=n-c,e.update()},this.getDistance=()=>e.object.position.distanceTo(e.target),this.listenToKeyEvents=t=>{t.addEventListener("keydown",he),this._domElementKeyEvents=t},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",he),this._domElementKeyEvents=null},this.saveState=()=>{e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=()=>{e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(w),e.update(),u=o.NONE},this.update=(()=>{const t=new R,n=new R(0,1,0),c=new Ce().setFromUnitVectors(s.up,n),h=c.clone().invert(),P=new R,F=new Ce,B=2*Math.PI;return function(){const Le=e.object.position;c.setFromUnitVectors(s.up,n),h.copy(c).invert(),t.copy(Le).sub(e.target),t.applyQuaternion(c),d.setFromVector3(t),e.autoRotate&&u===o.NONE&&$(ie()),e.enableDamping?(d.theta+=y.theta*e.dampingFactor,d.phi+=y.phi*e.dampingFactor):(d.theta+=y.theta,d.phi+=y.phi);let U=e.minAzimuthAngle,X=e.maxAzimuthAngle;isFinite(U)&&isFinite(X)&&(U<-Math.PI?U+=B:U>Math.PI&&(U-=B),X<-Math.PI?X+=B:X>Math.PI&&(X-=B),U<=X?d.theta=Math.max(U,Math.min(X,d.theta)):d.theta=d.theta>(U+X)/2?Math.max(U,d.theta):Math.min(X,d.theta)),d.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,d.phi)),d.makeSafe(),e.enableDamping===!0?e.target.addScaledVector(j,e.dampingFactor):e.target.add(j),e.zoomToCursor&&x||e.object.isOrthographicCamera?d.radius=k(d.radius):d.radius=k(d.radius*O),t.setFromSpherical(d),t.applyQuaternion(h),Le.copy(e.target).add(t),e.object.matrixAutoUpdate||e.object.updateMatrix(),e.object.lookAt(e.target),e.enableDamping===!0?(y.theta*=1-e.dampingFactor,y.phi*=1-e.dampingFactor,j.multiplyScalar(1-e.dampingFactor)):(y.set(0,0,0),j.set(0,0,0));let ne=!1;if(e.zoomToCursor&&x){let oe=null;if(e.object instanceof pe&&e.object.isPerspectiveCamera){const se=t.length();oe=k(se*O);const ce=se-oe;e.object.position.addScaledVector(H,ce),e.object.updateMatrixWorld()}else if(e.object.isOrthographicCamera){const se=new R(M.x,M.y,0);se.unproject(e.object),e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/O)),e.object.updateProjectionMatrix(),ne=!0;const ce=new R(M.x,M.y,0);ce.unproject(e.object),e.object.position.sub(ce).add(se),e.object.updateMatrixWorld(),oe=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),e.zoomToCursor=!1;oe!==null&&(e.screenSpacePanning?e.target.set(0,0,-1).transformDirection(e.object.matrix).multiplyScalar(oe).add(e.object.position):(le.origin.copy(e.object.position),le.direction.set(0,0,-1).transformDirection(e.object.matrix),Math.abs(e.object.up.dot(le.direction))<xt?s.lookAt(e.target):(Se.setFromNormalAndCoplanarPoint(e.object.up,e.target),le.intersectPlane(Se,e.target))))}else e.object instanceof me&&e.object.isOrthographicCamera&&(ne=O!==1,ne&&(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/O)),e.object.updateProjectionMatrix()));return O=1,x=!1,ne||P.distanceToSquared(e.object.position)>_||8*(1-F.dot(e.object.quaternion))>_?(e.dispatchEvent(w),P.copy(e.object.position),F.copy(e.object.quaternion),ne=!1,!0):!1}})(),this.connect=t=>{e.domElement=t,e.domElement.style.touchAction="none",e.domElement.addEventListener("contextmenu",Te),e.domElement.addEventListener("pointerdown",je),e.domElement.addEventListener("pointercancel",te),e.domElement.addEventListener("wheel",xe)},this.dispose=()=>{var t,n,c,h,P,F;e.domElement&&(e.domElement.style.touchAction="auto"),(t=e.domElement)==null||t.removeEventListener("contextmenu",Te),(n=e.domElement)==null||n.removeEventListener("pointerdown",je),(c=e.domElement)==null||c.removeEventListener("pointercancel",te),(h=e.domElement)==null||h.removeEventListener("wheel",xe),(P=e.domElement)==null||P.ownerDocument.removeEventListener("pointermove",de),(F=e.domElement)==null||F.ownerDocument.removeEventListener("pointerup",te),e._domElementKeyEvents!==null&&e._domElementKeyEvents.removeEventListener("keydown",he)};const e=this,w={type:"change"},E={type:"start"},v={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=o.NONE;const _=1e-6,d=new Ae,y=new Ae;let O=1;const j=new R,T=new I,L=new I,C=new I,b=new I,D=new I,S=new I,A=new I,p=new I,f=new I,H=new R,M=new I;let x=!1;const l=[],V={};function ie(){return 2*Math.PI/60/60*e.autoRotateSpeed}function z(){return Math.pow(.95,e.zoomSpeed)}function $(t){e.reverseOrbit||e.reverseHorizontalOrbit?y.theta+=t:y.theta-=t}function J(t){e.reverseOrbit||e.reverseVerticalOrbit?y.phi+=t:y.phi-=t}const re=(()=>{const t=new R;return function(c,h){t.setFromMatrixColumn(h,0),t.multiplyScalar(-c),j.add(t)}})(),W=(()=>{const t=new R;return function(c,h){e.screenSpacePanning===!0?t.setFromMatrixColumn(h,1):(t.setFromMatrixColumn(h,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(c),j.add(t)}})(),Z=(()=>{const t=new R;return function(c,h){const P=e.domElement;if(P&&e.object instanceof pe&&e.object.isPerspectiveCamera){const F=e.object.position;t.copy(F).sub(e.target);let B=t.length();B*=Math.tan(e.object.fov/2*Math.PI/180),re(2*c*B/P.clientHeight,e.object.matrix),W(2*h*B/P.clientHeight,e.object.matrix)}else P&&e.object instanceof me&&e.object.isOrthographicCamera?(re(c*(e.object.right-e.object.left)/e.object.zoom/P.clientWidth,e.object.matrix),W(h*(e.object.top-e.object.bottom)/e.object.zoom/P.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}})();function Y(t){e.object instanceof pe&&e.object.isPerspectiveCamera||e.object instanceof me&&e.object.isOrthographicCamera?O=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function G(t){Y(O/t)}function N(t){Y(O*t)}function ee(t){if(!e.zoomToCursor||!e.domElement)return;x=!0;const n=e.domElement.getBoundingClientRect(),c=t.clientX-n.left,h=t.clientY-n.top,P=n.width,F=n.height;M.x=c/P*2-1,M.y=-(h/F)*2+1,H.set(M.x,M.y,1).unproject(e.object).sub(e.object.position).normalize()}function k(t){return Math.max(e.minDistance,Math.min(e.maxDistance,t))}function ae(t){T.set(t.clientX,t.clientY)}function ue(t){ee(t),A.set(t.clientX,t.clientY)}function ge(t){b.set(t.clientX,t.clientY)}function _e(t){L.set(t.clientX,t.clientY),C.subVectors(L,T).multiplyScalar(e.rotateSpeed);const n=e.domElement;n&&($(2*Math.PI*C.x/n.clientHeight),J(2*Math.PI*C.y/n.clientHeight)),T.copy(L),e.update()}function ze(t){p.set(t.clientX,t.clientY),f.subVectors(p,A),f.y>0?G(z()):f.y<0&&N(z()),A.copy(p),e.update()}function Ne(t){D.set(t.clientX,t.clientY),S.subVectors(D,b).multiplyScalar(e.panSpeed),Z(S.x,S.y),b.copy(D),e.update()}function ke(t){ee(t),t.deltaY<0?N(z()):t.deltaY>0&&G(z()),e.update()}function He(t){let n=!1;switch(t.code){case e.keys.UP:Z(0,e.keyPanSpeed),n=!0;break;case e.keys.BOTTOM:Z(0,-e.keyPanSpeed),n=!0;break;case e.keys.LEFT:Z(e.keyPanSpeed,0),n=!0;break;case e.keys.RIGHT:Z(-e.keyPanSpeed,0),n=!0;break}n&&(t.preventDefault(),e.update())}function Ee(){if(l.length==1)T.set(l[0].pageX,l[0].pageY);else{const t=.5*(l[0].pageX+l[1].pageX),n=.5*(l[0].pageY+l[1].pageY);T.set(t,n)}}function ye(){if(l.length==1)b.set(l[0].pageX,l[0].pageY);else{const t=.5*(l[0].pageX+l[1].pageX),n=.5*(l[0].pageY+l[1].pageY);b.set(t,n)}}function we(){const t=l[0].pageX-l[1].pageX,n=l[0].pageY-l[1].pageY,c=Math.sqrt(t*t+n*n);A.set(0,c)}function Ye(){e.enableZoom&&we(),e.enablePan&&ye()}function Fe(){e.enableZoom&&we(),e.enableRotate&&Ee()}function ve(t){if(l.length==1)L.set(t.pageX,t.pageY);else{const c=fe(t),h=.5*(t.pageX+c.x),P=.5*(t.pageY+c.y);L.set(h,P)}C.subVectors(L,T).multiplyScalar(e.rotateSpeed);const n=e.domElement;n&&($(2*Math.PI*C.x/n.clientHeight),J(2*Math.PI*C.y/n.clientHeight)),T.copy(L)}function Pe(t){if(l.length==1)D.set(t.pageX,t.pageY);else{const n=fe(t),c=.5*(t.pageX+n.x),h=.5*(t.pageY+n.y);D.set(c,h)}S.subVectors(D,b).multiplyScalar(e.panSpeed),Z(S.x,S.y),b.copy(D)}function Oe(t){const n=fe(t),c=t.pageX-n.x,h=t.pageY-n.y,P=Math.sqrt(c*c+h*h);p.set(0,P),f.set(0,Math.pow(p.y/A.y,e.zoomSpeed)),G(f.y),A.copy(p)}function Ue(t){e.enableZoom&&Oe(t),e.enablePan&&Pe(t)}function Xe(t){e.enableZoom&&Oe(t),e.enableRotate&&ve(t)}function je(t){var n,c;e.enabled!==!1&&(l.length===0&&((n=e.domElement)==null||n.ownerDocument.addEventListener("pointermove",de),(c=e.domElement)==null||c.ownerDocument.addEventListener("pointerup",te)),We(t),t.pointerType==="touch"?Ke(t):Ze(t))}function de(t){e.enabled!==!1&&(t.pointerType==="touch"?Ve(t):Be(t))}function te(t){var n,c,h;Ge(t),l.length===0&&((n=e.domElement)==null||n.releasePointerCapture(t.pointerId),(c=e.domElement)==null||c.ownerDocument.removeEventListener("pointermove",de),(h=e.domElement)==null||h.ownerDocument.removeEventListener("pointerup",te)),e.dispatchEvent(v),u=o.NONE}function Ze(t){let n;switch(t.button){case 0:n=e.mouseButtons.LEFT;break;case 1:n=e.mouseButtons.MIDDLE;break;case 2:n=e.mouseButtons.RIGHT;break;default:n=-1}switch(n){case q.DOLLY:if(e.enableZoom===!1)return;ue(t),u=o.DOLLY;break;case q.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;ge(t),u=o.PAN}else{if(e.enableRotate===!1)return;ae(t),u=o.ROTATE}break;case q.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;ae(t),u=o.ROTATE}else{if(e.enablePan===!1)return;ge(t),u=o.PAN}break;default:u=o.NONE}u!==o.NONE&&e.dispatchEvent(E)}function Be(t){if(e.enabled!==!1)switch(u){case o.ROTATE:if(e.enableRotate===!1)return;_e(t);break;case o.DOLLY:if(e.enableZoom===!1)return;ze(t);break;case o.PAN:if(e.enablePan===!1)return;Ne(t);break}}function xe(t){e.enabled===!1||e.enableZoom===!1||u!==o.NONE&&u!==o.ROTATE||(t.preventDefault(),e.dispatchEvent(E),ke(t),e.dispatchEvent(v))}function he(t){e.enabled===!1||e.enablePan===!1||He(t)}function Ke(t){switch(Me(t),l.length){case 1:switch(e.touches.ONE){case Q.ROTATE:if(e.enableRotate===!1)return;Ee(),u=o.TOUCH_ROTATE;break;case Q.PAN:if(e.enablePan===!1)return;ye(),u=o.TOUCH_PAN;break;default:u=o.NONE}break;case 2:switch(e.touches.TWO){case Q.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Ye(),u=o.TOUCH_DOLLY_PAN;break;case Q.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Fe(),u=o.TOUCH_DOLLY_ROTATE;break;default:u=o.NONE}break;default:u=o.NONE}u!==o.NONE&&e.dispatchEvent(E)}function Ve(t){switch(Me(t),u){case o.TOUCH_ROTATE:if(e.enableRotate===!1)return;ve(t),e.update();break;case o.TOUCH_PAN:if(e.enablePan===!1)return;Pe(t),e.update();break;case o.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Ue(t),e.update();break;case o.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Xe(t),e.update();break;default:u=o.NONE}}function Te(t){e.enabled!==!1&&t.preventDefault()}function We(t){l.push(t)}function Ge(t){delete V[t.pointerId];for(let n=0;n<l.length;n++)if(l[n].pointerId==t.pointerId){l.splice(n,1);return}}function Me(t){let n=V[t.pointerId];n===void 0&&(n=new I,V[t.pointerId]=n),n.set(t.pageX,t.pageY)}function fe(t){const n=t.pointerId===l[0].pointerId?l[1]:l[0];return V[n.pointerId]}this.dollyIn=(t=z())=>{N(t),e.update()},this.dollyOut=(t=z())=>{G(t),e.update()},this.getScale=()=>O,this.setScale=t=>{Y(t),e.update()},this.getZoomScale=()=>z(),a!==void 0&&this.connect(a),this.update()}};const Mt=g.forwardRef(({makeDefault:i,camera:s,regress:a,domElement:e,enableDamping:w=!0,keyEvents:E=!1,onChange:v,onStart:o,onEnd:u,..._},d)=>{const y=K(f=>f.invalidate),O=K(f=>f.camera),j=K(f=>f.gl),T=K(f=>f.events),L=K(f=>f.setEvents),C=K(f=>f.set),b=K(f=>f.get),D=K(f=>f.performance),S=s||O,A=e||T.connected||j.domElement,p=g.useMemo(()=>new Tt(S),[S]);return ut(()=>{p.enabled&&p.update()},-1),g.useEffect(()=>(E&&p.connect(E===!0?A:E),p.connect(A),()=>void p.dispose()),[E,A,a,p,y]),g.useEffect(()=>{const f=x=>{y(),a&&D.regress(),v&&v(x)},H=x=>{o&&o(x)},M=x=>{u&&u(x)};return p.addEventListener("change",f),p.addEventListener("start",H),p.addEventListener("end",M),()=>{p.removeEventListener("start",H),p.removeEventListener("end",M),p.removeEventListener("change",f)}},[v,o,u,p,y,L]),g.useEffect(()=>{if(i){const f=b().controls;return C({controls:p}),()=>C({controls:f})}},[i,p]),g.createElement("primitive",be({ref:d,object:p,enableDamping:w},_))}),Dt=()=>{const[i,s]=g.useState("/sample.png"),[a,e]=g.useState(null);console.log("image",i);const w=v=>{const o=v.target.files[0];if(o){const u=URL.createObjectURL(o);s(u),console.log("handleImageChange = ",u)}},E=v=>{console.log("handleColor1Change = ",v.target.value),e(v.target.value)};return m.jsxs("div",{className:"justify-content-center text-center pt-5",children:[m.jsx("h1",{children:"Three.js Test"}),m.jsxs("div",{className:"mt-4 pb-4 canvas-container",children:[m.jsxs(Et,{camera:{position:[0,3,10],fov:45},style:{backgroundColor:"white"},shadows:!0,children:[m.jsx(Mt,{minDistance:2,maxDistance:10}),m.jsx("directionalLight",{position:[10,10,10],intensity:4}),m.jsx("directionalLight",{position:[5,6,8],intensity:1.5,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-camera-near":.5,"shadow-camera-far":200,"shadow-camera-left":-10,"shadow-camera-right":10,"shadow-camera-top":10,"shadow-camera-bottom":-10}),m.jsx("directionalLight",{position:[-5,3,-8],intensity:1.5,color:"#ffffff"}),m.jsx("mesh",{position:[0,-1.1,0],castShadow:!0,children:m.jsx(dt,{imageSrc:i,color1:a})}),m.jsxs("mesh",{children:[m.jsxs("mesh",{receiveShadow:!0,position:[0,-1.01,0],rotation:[-Math.PI/2,0,0],scale:[3,3,3],children:[m.jsx("planeGeometry",{args:[10,10]}),m.jsx("shadowMaterial",{opacity:.4,transparent:!0}),"  // opacity 낮을 수록 연한 그림자"]}),m.jsxs("mesh",{position:[0,-1,0],rotation:[-Math.PI/2,0,0],scale:[3,3,3],renderOrder:2,children:[m.jsx("circleGeometry",{args:[5,32]}),m.jsx("meshStandardMaterial",{color:"F8F8F8",roughness:.9,metalness:0,opacity:.7,transparent:!0})]})]})]}),m.jsx("input",{type:"file",accept:"image/*",onChange:w,style:{position:"absolute",top:20,left:20,zIndex:1}}),m.jsx("label",{for:"colorPicker",style:{position:"absolute",top:60,left:90,zIndex:1},children:"날개 색"}),m.jsx("input",{type:"color",id:"colorPicker",onChange:E,style:{position:"absolute",top:60,left:20,zIndex:1}})]})]})};export{Dt as default};
